<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repeating Blocks with Filters</title>
    <style>
        /* Add your CSS styles here */
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
        }

        #filters {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }

        label {
            margin-right: 10px;
        }

        input[type="date"],
        input[type="text"],
        select {
            padding: 5px;
            margin-right: 10px;
            border-radius: 3px;
            border: 1px solid #ccc;
            font-size: 14px;
        }

        button {
            padding: 8px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        .info-block {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        .info-block p {
            margin: 5px 0;
        }

        .flag {
            width: 20px;
            height: auto;
            vertical-align: middle;
            margin-right: 5px;
        }
        
        select option {
            color: inherit !important;
        }
    </style>
</head>
<body>
    <div id="filters">
        <!-- Mock-up filters -->
        <label for="start-date">Start Date:</label>
        <input type="date" id="start-date">

        <label for="end-date">End Date:</label>
        <input type="date" id="end-date">

        <label for="name">Name:</label>
        <input type="text" id="name">

        <label for="status">Status:</label>
        <select id="status">
            <option value="">All</option>
            <option value="New" style="color: orange;">New</option>
            <option value="In Progress" style="color: blue;">In Progress</option>
            <option value="Approved" style="color: green;">Approved</option>
            <option value="Rejected" style="color: red;">Rejected</option>
        </select>

        <label for="country">Country:</label>
        <select id="country">
            <option value="">All</option>
        </select>

        <button onclick="generateInfoBlocks()">Apply Filters</button>
        <button onclick="downloadReport()">Download Report</button>
    </div>

    <div id="info-container">
        <!-- Dynamic content will be added here -->
    </div>

    <script>
        // Mock-up data
        const mockupData = [
            { id: 1, date: "01-05-2024", name: "John Doe", country: "USA", status: "New" },
            { id: 2, date: "02-05-2024", name: "Alice Smith", country: "UK", status: "In Progress" },
            { id: 3, date: "03-05-2024", name: "Bob Johnson", country: "Japan", status: "Approved" },
            { id: 4, date: "04-05-2024", name: "Emily Brown", country: "USA", status: "Rejected" },
            { id: 5, date: "05-05-2024", name: "Michael Wang", country: "China", status: "New" },
            { id: 6, date: "06-05-2024", name: "Sophia Garcia", country: "Spain", status: "In Progress" },
            { id: 7, date: "07-05-2024", name: "Daniel Nguyen", country: "Vietnam", status: "Approved" },
            { id: 8, date: "08-05-2024", name: "Olivia Martinez", country: "Brazil", status: "Rejected" },
            { id: 9, date: "09-05-2024", name: "William Rodriguez", country: "Canada", status: "New" },
            { id: 10, date: "10-05-2024", name: "Emma Kim", country: "South Korea", status: "In Progress" },
            { id: 11, date: "11-05-2024", name: "Liam Brown", country: "Australia", status: "Approved" },
            { id: 12, date: "12-05-2024", name: "Mia Lee", country: "France", status: "Rejected" },
            { id: 13, date: "13-05-2024", name: "Alexander Singh", country: "India", status: "New" },
            { id: 14, date: "14-05-2024", name: "Ava Patel", country: "United Arab Emirates", status: "In Progress" },
            { id: 15, date: "15-05-2024", name: "Ethan Martinez", country: "Russia", status: "Approved" },
            { id: 16, date: "16-05-2024", name: "Isabella Kim", country: "South Africa", status: "Rejected" },
            { id: 17, date: "17-05-2024", name: "Noah Garcia", country: "Germany", status: "New" },
            { id: 18, date: "18-05-2024", name: "Sophia Nguyen", country: "Italy", status: "In Progress" },
            { id: 19, date: "19-05-2024", name: "Mason Lee", country: "Argentina", status: "Approved" },
            { id: 20, date: "20-05-2024", name: "Amelia Hernandez", country: "Chile", status: "Rejected" },
            { id: 21, date: "21-05-2024", name: "James Smith", country: "United Kingdom", status: "New" },
            { id: 22, date: "22-05-2024", name: "Charlotte Johnson", country: "Canada", status: "In Progress" },
            { id: 23, date: "23-05-2024", name: "Benjamin Brown", country: "France", status: "Approved" },
            { id: 24, date: "24-05-2024", name: "Harper Williams", country: "Germany", status: "Rejected" },
            { id: 25, date: "25-05-2024", name: "William Brown", country: "Australia", status: "New" },
            { id: 26, date: "26-05-2024", name: "Evelyn Rodriguez", country: "Spain", status: "In Progress" },
            { id: 27, date: "27-05-2024", name: "James Lee", country: "South Korea", status: "Approved" },
            { id: 28, date: "28-05-2024", name: "Abigail Kim", country: "Japan", status: "Rejected" },
            { id: 29, date: "29-05-2024", name: "Michael Martinez", country: "Brazil", status: "New" },
            { id: 30, date: "30-05-2024", name: "Elizabeth Nguyen", country: "Vietnam", status: "In Progress" }
            // Add more mock-up data as needed
        ];


        // Array of emojis with flags
        const flagEmojis = {
            "Afghanistan": "ğŸ‡¦ğŸ‡«",
            "Albania": "ğŸ‡¦ğŸ‡±",
            "Algeria": "ğŸ‡©ğŸ‡¿",
            "Andorra": "ğŸ‡¦ğŸ‡©",
            "Angola": "ğŸ‡¦ğŸ‡´",
            "Antigua & Barbuda": "ğŸ‡¦ğŸ‡¬",
            "Argentina": "ğŸ‡¦ğŸ‡·",
            "Armenia": "ğŸ‡¦ğŸ‡²",
            "Australia": "ğŸ‡¦ğŸ‡º",
            "Austria": "ğŸ‡¦ğŸ‡¹",
            "Azerbaijan": "ğŸ‡¦ğŸ‡¿",
            "Bahamas": "ğŸ‡§ğŸ‡¸",
            "Bahrain": "ğŸ‡§ğŸ‡­",
            "Bangladesh": "ğŸ‡§ğŸ‡©",
            "Barbados": "ğŸ‡§ğŸ‡§",
            "Belarus": "ğŸ‡§ğŸ‡¾",
            "Belgium": "ğŸ‡§ğŸ‡ª",
            "Belize": "ğŸ‡§ğŸ‡¿",
            "Benin": "ğŸ‡§ğŸ‡¯",
            "Bhutan": "ğŸ‡§ğŸ‡¹",
            "Bolivia": "ğŸ‡§ğŸ‡´",
            "Bosnia & Herzegovina": "ğŸ‡§ğŸ‡¦",
            "Botswana": "ğŸ‡§ğŸ‡¼",
            "Brazil": "ğŸ‡§ğŸ‡·",
            "Brunei": "ğŸ‡§ğŸ‡³",
            "Bulgaria": "ğŸ‡§ğŸ‡¬",
            "Burkina Faso": "ğŸ‡§ğŸ‡«",
            "Burundi": "ğŸ‡§ğŸ‡®",
            "Cabo Verde": "ğŸ‡¨ğŸ‡»",
            "Cambodia": "ğŸ‡°ğŸ‡­",
            "Cameroon": "ğŸ‡¨ğŸ‡²",
            "Canada": "ğŸ‡¨ğŸ‡¦",
            "Central African Republic": "ğŸ‡¨ğŸ‡«",
            "Chad": "ğŸ‡¹ğŸ‡©",
            "Chile": "ğŸ‡¨ğŸ‡±",
            "China": "ğŸ‡¨ğŸ‡³",
            "Colombia": "ğŸ‡¨ğŸ‡´",
            "Comoros": "ğŸ‡°ğŸ‡²",
            "Congo": "ğŸ‡¨ğŸ‡¬",
            "Costa Rica": "ğŸ‡¨ğŸ‡·",
            "Croatia": "ğŸ‡­ğŸ‡·",
            "Cuba": "ğŸ‡¨ğŸ‡º",
            "Cyprus": "ğŸ‡¨ğŸ‡¾",
            "Czech Republic": "ğŸ‡¨ğŸ‡¿",
            "Denmark": "ğŸ‡©ğŸ‡°",
            "Djibouti": "ğŸ‡©ğŸ‡¯",
            "Dominica": "ğŸ‡©ğŸ‡²",
            "Dominican Republic": "ğŸ‡©ğŸ‡´",
            "Ecuador": "ğŸ‡ªğŸ‡¨",
            "Egypt": "ğŸ‡ªğŸ‡¬",
            "El Salvador": "ğŸ‡¸ğŸ‡»",
            "Equatorial Guinea": "ğŸ‡¬ğŸ‡¶",
            "Eritrea": "ğŸ‡ªğŸ‡·",
            "Estonia": "ğŸ‡ªğŸ‡ª",
            "Eswatini": "ğŸ‡¸ğŸ‡¿",
            "Ethiopia": "ğŸ‡ªğŸ‡¹",
            "Fiji": "ğŸ‡«ğŸ‡¯",
            "Finland": "ğŸ‡«ğŸ‡®",
            "France": "ğŸ‡«ğŸ‡·",
            "Gabon": "ğŸ‡¬ğŸ‡¦",
            "Gambia": "ğŸ‡¬ğŸ‡²",
            "Georgia": "ğŸ‡¬ğŸ‡ª",
            "Germany": "ğŸ‡©ğŸ‡ª",
            "Ghana": "ğŸ‡¬ğŸ‡­",
            "Greece": "ğŸ‡¬ğŸ‡·",
            "Grenada": "ğŸ‡¬ğŸ‡©",
            "Guatemala": "ğŸ‡¬ğŸ‡¹",
            "Guinea": "ğŸ‡¬ğŸ‡³",
            "Guinea-Bissau": "ğŸ‡¬ğŸ‡¼",
            "Guyana": "ğŸ‡¬ğŸ‡¾",
            "Haiti": "ğŸ‡­ğŸ‡¹",
            "Honduras": "ğŸ‡­ğŸ‡³",
            "Hungary": "ğŸ‡­ğŸ‡º",
            "Iceland": "ğŸ‡®ğŸ‡¸",
            "India": "ğŸ‡®ğŸ‡³",
            "Indonesia": "ğŸ‡®ğŸ‡©",
            "Iran": "ğŸ‡®ğŸ‡·",
            "Iraq": "ğŸ‡®ğŸ‡¶",
            "Ireland": "ğŸ‡®ğŸ‡ª",
            "Israel": "ğŸ‡®ğŸ‡±",
            "Italy": "ğŸ‡®ğŸ‡¹",
            "Jamaica": "ğŸ‡¯ğŸ‡²",
            "Japan": "ğŸ‡¯ğŸ‡µ",
            "Jordan": "ğŸ‡¯ğŸ‡´",
            "Kazakhstan": "ğŸ‡°ğŸ‡¿",
            "Kenya": "ğŸ‡°ğŸ‡ª",
            "Kiribati": "ğŸ‡°ğŸ‡®",
            "Kosovo": "ğŸ‡½ğŸ‡°",
            "Kuwait": "ğŸ‡°ğŸ‡¼",
            "Kyrgyzstan": "ğŸ‡°ğŸ‡¬",
            "Laos": "ğŸ‡±ğŸ‡¦",
            "Latvia": "ğŸ‡±ğŸ‡»",
            "Lebanon": "ğŸ‡±ğŸ‡§",
            "Lesotho": "ğŸ‡±ğŸ‡¸",
            "Liberia": "ğŸ‡±ğŸ‡·",
            "Libya": "ğŸ‡±ğŸ‡¾",
            "Liechtenstein": "ğŸ‡±ğŸ‡®",
            "Lithuania": "ğŸ‡±ğŸ‡¹",
            "Luxembourg": "ğŸ‡±ğŸ‡º",
            "Madagascar": "ğŸ‡²ğŸ‡¬",
            "Malawi": "ğŸ‡²ğŸ‡¼",
            "Malaysia": "ğŸ‡²ğŸ‡¾",
            "Maldives": "ğŸ‡²ğŸ‡»",
            "Mali": "ğŸ‡²ğŸ‡±",
            "Malta": "ğŸ‡²ğŸ‡¹",
            "Marshall Islands": "ğŸ‡²ğŸ‡­",
            "Mauritania": "ğŸ‡²ğŸ‡·",
            "Mauritius": "ğŸ‡²ğŸ‡º",
            "Mexico": "ğŸ‡²ğŸ‡½",
            "Micronesia": "ğŸ‡«ğŸ‡²",
            "Moldova": "ğŸ‡²ğŸ‡©",
            "Monaco": "ğŸ‡²ğŸ‡¨",
            "Mongolia": "ğŸ‡²ğŸ‡³",
            "Montenegro": "ğŸ‡²ğŸ‡ª",
            "Morocco": "ğŸ‡²ğŸ‡¦",
            "Mozambique": "ğŸ‡²ğŸ‡¿",
            "Myanmar": "ğŸ‡²ğŸ‡²",
            "Namibia": "ğŸ‡³ğŸ‡¦",
            "Nauru": "ğŸ‡³ğŸ‡·",
            "Nepal": "ğŸ‡³ğŸ‡µ",
            "Netherlands": "ğŸ‡³ğŸ‡±",
            "New Zealand": "ğŸ‡³ğŸ‡¿",
            "Nicaragua": "ğŸ‡³ğŸ‡®",
            "Niger": "ğŸ‡³ğŸ‡ª",
            "Nigeria": "ğŸ‡³ğŸ‡¬",
            "North Macedonia": "ğŸ‡²ğŸ‡°",
            "Norway": "ğŸ‡³ğŸ‡´",
            "Oman": "ğŸ‡´ğŸ‡²",
            "Pakistan": "ğŸ‡µğŸ‡°",
            "Palau": "ğŸ‡µğŸ‡¼",
            "Palestine": "ğŸ‡µğŸ‡¸",
            "Panama": "ğŸ‡µğŸ‡¦",
            "Papua New Guinea": "ğŸ‡µğŸ‡¬",
            "Paraguay": "ğŸ‡µğŸ‡¾",
            "Peru": "ğŸ‡µğŸ‡ª",
            "Philippines": "ğŸ‡µğŸ‡­",
            "Poland": "ğŸ‡µğŸ‡±",
            "Portugal": "ğŸ‡µğŸ‡¹",
            "Qatar": "ğŸ‡¶ğŸ‡¦",
            "Romania": "ğŸ‡·ğŸ‡´",
            "Russia": "ğŸ‡·ğŸ‡º",
            "Rwanda": "ğŸ‡·ğŸ‡¼",
            "Samoa": "ğŸ‡¼ğŸ‡¸",
            "San Marino": "ğŸ‡¸ğŸ‡²",
            "Sao Tome & Principe": "ğŸ‡¸ğŸ‡¹",
            "Saudi Arabia": "ğŸ‡¸ğŸ‡¦",
            "Senegal": "ğŸ‡¸ğŸ‡³",
            "Serbia": "ğŸ‡·ğŸ‡¸",
            "Seychelles": "ğŸ‡¸ğŸ‡¨",
            "Sierra Leone": "ğŸ‡¸ğŸ‡±",
            "Singapore": "ğŸ‡¸ğŸ‡¬",
            "Slovakia": "ğŸ‡¸ğŸ‡°",
            "Slovenia": "ğŸ‡¸ğŸ‡®",
            "Solomon Islands": "ğŸ‡¸ğŸ‡§",
            "Somalia": "ğŸ‡¸ğŸ‡´",
            "South Africa": "ğŸ‡¿ğŸ‡¦",
            "South Korea": "ğŸ‡°ğŸ‡·",
            "South Sudan": "ğŸ‡¸ğŸ‡¸",
            "Spain": "ğŸ‡ªğŸ‡¸",
            "Sri Lanka": "ğŸ‡±ğŸ‡°",
            "St. Kitts & Nevis": "ğŸ‡°ğŸ‡³",
            "St. Lucia": "ğŸ‡±ğŸ‡¨",
            "St. Vincent & Grenadines": "ğŸ‡»ğŸ‡¨",
            "Sudan": "ğŸ‡¸ğŸ‡©",
            "Suriname": "ğŸ‡¸ğŸ‡·",
            "Sweden": "ğŸ‡¸ğŸ‡ª",
            "Switzerland": "ğŸ‡¨ğŸ‡­",
            "Syria": "ğŸ‡¸ğŸ‡¾",
            "Taiwan": "ğŸ‡¹ğŸ‡¼",
            "Tajikistan": "ğŸ‡¹ğŸ‡¯",
            "Tanzania": "ğŸ‡¹ğŸ‡¿",
            "Thailand": "ğŸ‡¹ğŸ‡­",
            "Timor-Leste": "ğŸ‡¹ğŸ‡±",
            "Togo": "ğŸ‡¹ğŸ‡¬",
            "Tonga": "ğŸ‡¹ğŸ‡´",
            "Trinidad & Tobago": "ğŸ‡¹ğŸ‡¹",
            "Tunisia": "ğŸ‡¹ğŸ‡³",
            "Turkey": "ğŸ‡¹ğŸ‡·",
            "Turkmenistan": "ğŸ‡¹ğŸ‡²",
            "Tuvalu": "ğŸ‡¹ğŸ‡»",
            "Uganda": "ğŸ‡ºğŸ‡¬",
            "Ukraine": "ğŸ‡ºğŸ‡¦",
            "United Arab Emirates": "ğŸ‡¦ğŸ‡ª",
            "UK": "ğŸ‡¬ğŸ‡§",
            "USA": "ğŸ‡ºğŸ‡¸",
            "Uruguay": "ğŸ‡ºğŸ‡¾",
            "Uzbekistan": "ğŸ‡ºğŸ‡¿",
            "Vanuatu": "ğŸ‡»ğŸ‡º",
            "Vatican City": "ğŸ‡»ğŸ‡¦",
            "Venezuela": "ğŸ‡»ğŸ‡ª",
            "Vietnam": "ğŸ‡»ğŸ‡³",
            "Yemen": "ğŸ‡¾ğŸ‡ª",
            "Zambia": "ğŸ‡¿ğŸ‡²",
            "Zimbabwe": "ğŸ‡¿ğŸ‡¼",
        };


        // Function to generate info blocks based on filters
        function generateInfoBlocks() {
            const startDate = document.getElementById("start-date").value;
            const endDate = document.getElementById("end-date").value;
            const nameFilter = document.getElementById("name").value.toLowerCase();
            const statusFilter = document.getElementById("status").value;
            const countryFilter = document.getElementById("country").value;

            const container = document.getElementById("info-container");
            container.innerHTML = ""; // Clear existing content

            const filteredData = mockupData.filter(data => {
                return (startDate === "" || new Date(data.date) >= new Date(startDate)) &&
                    (endDate === "" || new Date(data.date) <= new Date(endDate)) &&
                    (nameFilter === "" || data.name.toLowerCase().includes(nameFilter)) &&
                    (statusFilter === "" || data.status === statusFilter) &&
                    (countryFilter === "" || data.country === countryFilter);
            });

            filteredData.forEach(data => {
                const infoBlock = document.createElement("div");
                infoBlock.classList.add("info-block");
                infoBlock.innerHTML = `
                    <p><strong>ID:</strong> ${data.id}</p>
                    <p><strong>Date:</strong> ${data.date}</p>
                    <p><strong>Name:</strong> ${data.name}</p>
                    <p><strong>Country:</strong> ${flagEmojis[data.country]} ${data.country}</p>
                    <p><strong>Status:</strong> <span class="status">${data.status}</span></p>
                `;

                // Set font color based on status
                const statusElement = infoBlock.querySelector(".status");
                switch (data.status) {
                    case "New":
                        statusElement.style.color = "orange";
                        break;
                    case "In Progress":
                        statusElement.style.color = "blue";
                        break;
                    case "Approved":
                        statusElement.style.color = "green";
                        break;
                    case "Rejected":
                        statusElement.style.color = "red";
                        break;
                    default:
                        statusElement.style.color = "black"; // Default color
                        break;
                }

                container.appendChild(infoBlock);
            });
        }


        // Mock-up function for downloading report
        function downloadReport() {
            // Convert mockupData to CSV format
            const csvContent = "data:text/csv;charset=utf-8," +
                               mockupData.map(data => Object.values(data).join(",")).join("\n");
            
            // Create a download link
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "report.csv");
            
            // Append the link to the body and trigger the click event
            document.body.appendChild(link);
            link.click();

            // Remove the link from the body
            document.body.removeChild(link);
        }


        // Call the function to generate info blocks with default filters when the page loads
        window.onload = generateInfoBlocks;
        
        // Populate country filter options
        const countryFilter = document.getElementById("country");
        const uniqueCountries = [...new Set(mockupData.map(item => item.country))];
        uniqueCountries.sort(); // Sort the countries alphabetically
        uniqueCountries.forEach(country => {
            const option = document.createElement("option");
            option.value = country;
            option.textContent = country;
            countryFilter.appendChild(option);
        });
        
        document.getElementById("status").addEventListener("change", function() {
               // Get the selected option
               const selectedOption = this.options[this.selectedIndex];
               
               // Reset the color of all options to default
               Array.from(this.options).forEach(option => {
                   option.style.color = "inherit";
               });
               
               // Set color based on the selected option value
               switch (selectedOption.value) {
                   case "New":
                       selectedOption.style.color = "orange";
                       break;
                   case "In Progress":
                       selectedOption.style.color = "blue";
                       break;
                   case "Approved":
                       selectedOption.style.color = "green";
                       break;
                   case "Rejected":
                       selectedOption.style.color = "red";
                       break;
                   default:
                       break;
               }
           });

        
    </script>
</body>
</html>
