<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repeating Blocks with Filters</title>
    <style>
        /* Add your CSS styles here */
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
        }

        #filters {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }

        label {
            margin-right: 10px;
        }

        input[type="date"],
        input[type="text"],
        select {
            padding: 5px;
            margin-right: 10px;
            border-radius: 3px;
            border: 1px solid #ccc;
            font-size: 14px;
        }

        button {
            padding: 8px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        .info-block {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        .info-block p {
            margin: 5px 0;
        }

        .flag {
            width: 20px;
            height: auto;
            vertical-align: middle;
            margin-right: 5px;
        }
        
        select option {
            color: inherit !important;
        }
    </style>
</head>
<body>
    <div id="filters">
        <!-- Mock-up filters -->
        <label for="start-date">Start Date:</label>
        <input type="date" id="start-date">

        <label for="end-date">End Date:</label>
        <input type="date" id="end-date">

        <label for="name">Name:</label>
        <input type="text" id="name">

        <label for="status">Status:</label>
        <select id="status">
            <option value="">All</option>
            <option value="New" style="color: orange;">New</option>
            <option value="In Progress" style="color: blue;">In Progress</option>
            <option value="Approved" style="color: green;">Approved</option>
            <option value="Rejected" style="color: red;">Rejected</option>
        </select>

        <label for="country">Country:</label>
        <select id="country">
            <option value="">All</option>
        </select>

        <button onclick="generateInfoBlocks()">Apply Filters</button>
        <button onclick="downloadReport()">Download Report</button>
    </div>

    <div id="info-container">
        <!-- Dynamic content will be added here -->
    </div>

    <script>
        // Mock-up data
        const mockupData = [
            { id: 1, date: "01-05-2024", name: "John Doe", country: "USA", status: "New" },
            { id: 2, date: "02-05-2024", name: "Alice Smith", country: "UK", status: "In Progress" },
            { id: 3, date: "03-05-2024", name: "Bob Johnson", country: "Japan", status: "Approved" },
            { id: 4, date: "04-05-2024", name: "Emily Brown", country: "USA", status: "Rejected" },
            { id: 5, date: "05-05-2024", name: "Michael Wang", country: "China", status: "New" },
            { id: 6, date: "06-05-2024", name: "Sophia Garcia", country: "Spain", status: "In Progress" },
            { id: 7, date: "07-05-2024", name: "Daniel Nguyen", country: "Vietnam", status: "Approved" },
            { id: 8, date: "08-05-2024", name: "Olivia Martinez", country: "Brazil", status: "Rejected" },
            { id: 9, date: "09-05-2024", name: "William Rodriguez", country: "Canada", status: "New" },
            { id: 10, date: "10-05-2024", name: "Emma Kim", country: "South Korea", status: "In Progress" },
            { id: 11, date: "11-05-2024", name: "Liam Brown", country: "Australia", status: "Approved" },
            { id: 12, date: "12-05-2024", name: "Mia Lee", country: "France", status: "Rejected" },
            { id: 13, date: "13-05-2024", name: "Alexander Singh", country: "India", status: "New" },
            { id: 14, date: "14-05-2024", name: "Ava Patel", country: "United Arab Emirates", status: "In Progress" },
            { id: 15, date: "15-05-2024", name: "Ethan Martinez", country: "Russia", status: "Approved" },
            { id: 16, date: "16-05-2024", name: "Isabella Kim", country: "South Africa", status: "Rejected" },
            { id: 17, date: "17-05-2024", name: "Noah Garcia", country: "Germany", status: "New" },
            { id: 18, date: "18-05-2024", name: "Sophia Nguyen", country: "Italy", status: "In Progress" },
            { id: 19, date: "19-05-2024", name: "Mason Lee", country: "Argentina", status: "Approved" },
            { id: 20, date: "20-05-2024", name: "Amelia Hernandez", country: "Chile", status: "Rejected" },
            { id: 21, date: "21-05-2024", name: "James Smith", country: "United Kingdom", status: "New" },
            { id: 22, date: "22-05-2024", name: "Charlotte Johnson", country: "Canada", status: "In Progress" },
            { id: 23, date: "23-05-2024", name: "Benjamin Brown", country: "France", status: "Approved" },
            { id: 24, date: "24-05-2024", name: "Harper Williams", country: "Germany", status: "Rejected" },
            { id: 25, date: "25-05-2024", name: "William Brown", country: "Australia", status: "New" },
            { id: 26, date: "26-05-2024", name: "Evelyn Rodriguez", country: "Spain", status: "In Progress" },
            { id: 27, date: "27-05-2024", name: "James Lee", country: "South Korea", status: "Approved" },
            { id: 28, date: "28-05-2024", name: "Abigail Kim", country: "Japan", status: "Rejected" },
            { id: 29, date: "29-05-2024", name: "Michael Martinez", country: "Brazil", status: "New" },
            { id: 30, date: "30-05-2024", name: "Elizabeth Nguyen", country: "Vietnam", status: "In Progress" }
            // Add more mock-up data as needed
        ];


        // Array of emojis with flags
        const flagEmojis = {
            "Afghanistan": "ðŸ‡¦ðŸ‡«",
            "Albania": "ðŸ‡¦ðŸ‡±",
            "Algeria": "ðŸ‡©ðŸ‡¿",
            "Andorra": "ðŸ‡¦ðŸ‡©",
            "Angola": "ðŸ‡¦ðŸ‡´",
            "Antigua & Barbuda": "ðŸ‡¦ðŸ‡¬",
            "Argentina": "ðŸ‡¦ðŸ‡·",
            "Armenia": "ðŸ‡¦ðŸ‡²",
            "Australia": "ðŸ‡¦ðŸ‡º",
            "Austria": "ðŸ‡¦ðŸ‡¹",
            "Azerbaijan": "ðŸ‡¦ðŸ‡¿",
            "Bahamas": "ðŸ‡§ðŸ‡¸",
            "Bahrain": "ðŸ‡§ðŸ‡­",
            "Bangladesh": "ðŸ‡§ðŸ‡©",
            "Barbados": "ðŸ‡§ðŸ‡§",
            "Belarus": "ðŸ‡§ðŸ‡¾",
            "Belgium": "ðŸ‡§ðŸ‡ª",
            "Belize": "ðŸ‡§ðŸ‡¿",
            "Benin": "ðŸ‡§ðŸ‡¯",
            "Bhutan": "ðŸ‡§ðŸ‡¹",
            "Bolivia": "ðŸ‡§ðŸ‡´",
            "Bosnia & Herzegovina": "ðŸ‡§ðŸ‡¦",
            "Botswana": "ðŸ‡§ðŸ‡¼",
            "Brazil": "ðŸ‡§ðŸ‡·",
            "Brunei": "ðŸ‡§ðŸ‡³",
            "Bulgaria": "ðŸ‡§ðŸ‡¬",
            "Burkina Faso": "ðŸ‡§ðŸ‡«",
            "Burundi": "ðŸ‡§ðŸ‡®",
            "Cabo Verde": "ðŸ‡¨ðŸ‡»",
            "Cambodia": "ðŸ‡°ðŸ‡­",
            "Cameroon": "ðŸ‡¨ðŸ‡²",
            "Canada": "ðŸ‡¨ðŸ‡¦",
            "Central African Republic": "ðŸ‡¨ðŸ‡«",
            "Chad": "ðŸ‡¹ðŸ‡©",
            "Chile": "ðŸ‡¨ðŸ‡±",
            "China": "ðŸ‡¨ðŸ‡³",
            "Colombia": "ðŸ‡¨ðŸ‡´",
            "Comoros": "ðŸ‡°ðŸ‡²",
            "Congo": "ðŸ‡¨ðŸ‡¬",
            "Costa Rica": "ðŸ‡¨ðŸ‡·",
            "Croatia": "ðŸ‡­ðŸ‡·",
            "Cuba": "ðŸ‡¨ðŸ‡º",
            "Cyprus": "ðŸ‡¨ðŸ‡¾",
            "Czech Republic": "ðŸ‡¨ðŸ‡¿",
            "Denmark": "ðŸ‡©ðŸ‡°",
            "Djibouti": "ðŸ‡©ðŸ‡¯",
            "Dominica": "ðŸ‡©ðŸ‡²",
            "Dominican Republic": "ðŸ‡©ðŸ‡´",
            "Ecuador": "ðŸ‡ªðŸ‡¨",
            "Egypt": "ðŸ‡ªðŸ‡¬",
            "El Salvador": "ðŸ‡¸ðŸ‡»",
            "Equatorial Guinea": "ðŸ‡¬ðŸ‡¶",
            "Eritrea": "ðŸ‡ªðŸ‡·",
            "Estonia": "ðŸ‡ªðŸ‡ª",
            "Eswatini": "ðŸ‡¸ðŸ‡¿",
            "Ethiopia": "ðŸ‡ªðŸ‡¹",
            "Fiji": "ðŸ‡«ðŸ‡¯",
            "Finland": "ðŸ‡«ðŸ‡®",
            "France": "ðŸ‡«ðŸ‡·",
            "Gabon": "ðŸ‡¬ðŸ‡¦",
            "Gambia": "ðŸ‡¬ðŸ‡²",
            "Georgia": "ðŸ‡¬ðŸ‡ª",
            "Germany": "ðŸ‡©ðŸ‡ª",
            "Ghana": "ðŸ‡¬ðŸ‡­",
            "Greece": "ðŸ‡¬ðŸ‡·",
            "Grenada": "ðŸ‡¬ðŸ‡©",
            "Guatemala": "ðŸ‡¬ðŸ‡¹",
            "Guinea": "ðŸ‡¬ðŸ‡³",
            "Guinea-Bissau": "ðŸ‡¬ðŸ‡¼",
            "Guyana": "ðŸ‡¬ðŸ‡¾",
            "Haiti": "ðŸ‡­ðŸ‡¹",
            "Honduras": "ðŸ‡­ðŸ‡³",
            "Hungary": "ðŸ‡­ðŸ‡º",
            "Iceland": "ðŸ‡®ðŸ‡¸",
            "India": "ðŸ‡®ðŸ‡³",
            "Indonesia": "ðŸ‡®ðŸ‡©",
            "Iran": "ðŸ‡®ðŸ‡·",
            "Iraq": "ðŸ‡®ðŸ‡¶",
            "Ireland": "ðŸ‡®ðŸ‡ª",
            "Israel": "ðŸ‡®ðŸ‡±",
            "Italy": "ðŸ‡®ðŸ‡¹",
            "Jamaica": "ðŸ‡¯ðŸ‡²",
            "Japan": "ðŸ‡¯ðŸ‡µ",
            "Jordan": "ðŸ‡¯ðŸ‡´",
            "Kazakhstan": "ðŸ‡°ðŸ‡¿",
            "Kenya": "ðŸ‡°ðŸ‡ª",
            "Kiribati": "ðŸ‡°ðŸ‡®",
            "Kosovo": "ðŸ‡½ðŸ‡°",
            "Kuwait": "ðŸ‡°ðŸ‡¼",
            "Kyrgyzstan": "ðŸ‡°ðŸ‡¬",
            "Laos": "ðŸ‡±ðŸ‡¦",
            "Latvia": "ðŸ‡±ðŸ‡»",
            "Lebanon": "ðŸ‡±ðŸ‡§",
            "Lesotho": "ðŸ‡±ðŸ‡¸",
            "Liberia": "ðŸ‡±ðŸ‡·",
            "Libya": "ðŸ‡±ðŸ‡¾",
            "Liechtenstein": "ðŸ‡±ðŸ‡®",
            "Lithuania": "ðŸ‡±ðŸ‡¹",
            "Luxembourg": "ðŸ‡±ðŸ‡º",
            "Madagascar": "ðŸ‡²ðŸ‡¬",
            "Malawi": "ðŸ‡²ðŸ‡¼",
            "Malaysia": "ðŸ‡²ðŸ‡¾",
            "Maldives": "ðŸ‡²ðŸ‡»",
            "Mali": "ðŸ‡²ðŸ‡±",
            "Malta": "ðŸ‡²ðŸ‡¹",
            "Marshall Islands": "ðŸ‡²ðŸ‡­",
            "Mauritania": "ðŸ‡²ðŸ‡·",
            "Mauritius": "ðŸ‡²ðŸ‡º",
            "Mexico": "ðŸ‡²ðŸ‡½",
            "Micronesia": "ðŸ‡«ðŸ‡²",
            "Moldova": "ðŸ‡²ðŸ‡©",
            "Monaco": "ðŸ‡²ðŸ‡¨",
            "Mongolia": "ðŸ‡²ðŸ‡³",
            "Montenegro": "ðŸ‡²ðŸ‡ª",
            "Morocco": "ðŸ‡²ðŸ‡¦",
            "Mozambique": "ðŸ‡²ðŸ‡¿",
            "Myanmar": "ðŸ‡²ðŸ‡²",
            "Namibia": "ðŸ‡³ðŸ‡¦",
            "Nauru": "ðŸ‡³ðŸ‡·",
            "Nepal": "ðŸ‡³ðŸ‡µ",
            "Netherlands": "ðŸ‡³ðŸ‡±",
            "New Zealand": "ðŸ‡³ðŸ‡¿",
            "Nicaragua": "ðŸ‡³ðŸ‡®",
            "Niger": "ðŸ‡³ðŸ‡ª",
            "Nigeria": "ðŸ‡³ðŸ‡¬",
            "North Macedonia": "ðŸ‡²ðŸ‡°",
            "Norway": "ðŸ‡³ðŸ‡´",
            "Oman": "ðŸ‡´ðŸ‡²",
            "Pakistan": "ðŸ‡µðŸ‡°",
            "Palau": "ðŸ‡µðŸ‡¼",
            "Palestine": "ðŸ‡µðŸ‡¸",
            "Panama": "ðŸ‡µðŸ‡¦",
            "Papua New Guinea": "ðŸ‡µðŸ‡¬",
            "Paraguay": "ðŸ‡µðŸ‡¾",
            "Peru": "ðŸ‡µðŸ‡ª",
            "Philippines": "ðŸ‡µðŸ‡­",
            "Poland": "ðŸ‡µðŸ‡±",
            "Portugal": "ðŸ‡µðŸ‡¹",
            "Qatar": "ðŸ‡¶ðŸ‡¦",
            "Romania": "ðŸ‡·ðŸ‡´",
            "Russia": "ðŸ‡·ðŸ‡º",
            "Rwanda": "ðŸ‡·ðŸ‡¼",
            "Samoa": "ðŸ‡¼ðŸ‡¸",
            "San Marino": "ðŸ‡¸ðŸ‡²",
            "Sao Tome & Principe": "ðŸ‡¸ðŸ‡¹",
            "Saudi Arabia": "ðŸ‡¸ðŸ‡¦",
            "Senegal": "ðŸ‡¸ðŸ‡³",
            "Serbia": "ðŸ‡·ðŸ‡¸",
            "Seychelles": "ðŸ‡¸ðŸ‡¨",
            "Sierra Leone": "ðŸ‡¸ðŸ‡±",
            "Singapore": "ðŸ‡¸ðŸ‡¬",
            "Slovakia": "ðŸ‡¸ðŸ‡°",
            "Slovenia": "ðŸ‡¸ðŸ‡®",
            "Solomon Islands": "ðŸ‡¸ðŸ‡§",
            "Somalia": "ðŸ‡¸ðŸ‡´",
            "South Africa": "ðŸ‡¿ðŸ‡¦",
            "South Korea": "ðŸ‡°ðŸ‡·",
            "South Sudan": "ðŸ‡¸ðŸ‡¸",
            "Spain": "ðŸ‡ªðŸ‡¸",
            "Sri Lanka": "ðŸ‡±ðŸ‡°",
            "St. Kitts & Nevis": "ðŸ‡°ðŸ‡³",
            "St. Lucia": "ðŸ‡±ðŸ‡¨",
            "St. Vincent & Grenadines": "ðŸ‡»ðŸ‡¨",
            "Sudan": "ðŸ‡¸ðŸ‡©",
            "Suriname": "ðŸ‡¸ðŸ‡·",
            "Sweden": "ðŸ‡¸ðŸ‡ª",
            "Switzerland": "ðŸ‡¨ðŸ‡­",
            "Syria": "ðŸ‡¸ðŸ‡¾",
            "Taiwan": "ðŸ‡¹ðŸ‡¼",
            "Tajikistan": "ðŸ‡¹ðŸ‡¯",
            "Tanzania": "ðŸ‡¹ðŸ‡¿",
            "Thailand": "ðŸ‡¹ðŸ‡­",
            "Timor-Leste": "ðŸ‡¹ðŸ‡±",
            "Togo": "ðŸ‡¹ðŸ‡¬",
            "Tonga": "ðŸ‡¹ðŸ‡´",
            "Trinidad & Tobago": "ðŸ‡¹ðŸ‡¹",
            "Tunisia": "ðŸ‡¹ðŸ‡³",
            "Turkey": "ðŸ‡¹ðŸ‡·",
            "Turkmenistan": "ðŸ‡¹ðŸ‡²",
            "Tuvalu": "ðŸ‡¹ðŸ‡»",
            "Uganda": "ðŸ‡ºðŸ‡¬",
            "Ukraine": "ðŸ‡ºðŸ‡¦",
            "United Arab Emirates": "ðŸ‡¦ðŸ‡ª",
            "UK": "ðŸ‡¬ðŸ‡§",
            "USA": "ðŸ‡ºðŸ‡¸",
            "Uruguay": "ðŸ‡ºðŸ‡¾",
            "Uzbekistan": "ðŸ‡ºðŸ‡¿",
            "Vanuatu": "ðŸ‡»ðŸ‡º",
            "Vatican City": "ðŸ‡»ðŸ‡¦",
            "Venezuela": "ðŸ‡»ðŸ‡ª",
            "Vietnam": "ðŸ‡»ðŸ‡³",
            "Yemen": "ðŸ‡¾ðŸ‡ª",
            "Zambia": "ðŸ‡¿ðŸ‡²",
            "Zimbabwe": "ðŸ‡¿ðŸ‡¼",
        };


        // Function to generate info blocks based on filters
        function generateInfoBlocks() {
            const startDate = document.getElementById("start-date").value;
            const endDate = document.getElementById("end-date").value;
            const nameFilter = document.getElementById("name").value.toLowerCase();
            const statusFilter = document.getElementById("status").value;
            const countryFilter = document.getElementById("country").value;

            const container = document.getElementById("info-container");
            container.innerHTML = ""; // Clear existing content

            const filteredData = mockupData.filter(data => {
                return (startDate === "" || new Date(data.date) >= new Date(startDate)) &&
                    (endDate === "" || new Date(data.date) <= new Date(endDate)) &&
                    (nameFilter === "" || data.name.toLowerCase().includes(nameFilter)) &&
                    (statusFilter === "" || data.status === statusFilter) &&
                    (countryFilter === "" || data.country === countryFilter);
            });

            filteredData.forEach(data => {
                const infoBlock = document.createElement("div");
                infoBlock.classList.add("info-block");
                infoBlock.innerHTML = `
                    <p><strong>ID:</strong> ${data.id}</p>
                    <p><strong>Date:</strong> ${data.date}</p>
                    <p><strong>Name:</strong> ${data.name}</p>
                    <p><strong>Country:</strong> ${flagEmojis[data.country]} ${data.country}</p>
                    <p><strong>Status:</strong> <span class="status">${data.status}</span></p>
                `;

                // Set font color based on status
                const statusElement = infoBlock.querySelector(".status");
                switch (data.status) {
                    case "New":
                        statusElement.style.color = "orange";
                        break;
                    case "In Progress":
                        statusElement.style.color = "blue";
                        break;
                    case "Approved":
                        statusElement.style.color = "green";
                        break;
                    case "Rejected":
                        statusElement.style.color = "red";
                        break;
                    default:
                        statusElement.style.color = "black"; // Default color
                        break;
                }

                container.appendChild(infoBlock);
            });
        }


        // Mock-up function for downloading report
        function downloadReport() {
            // Convert mockupData to CSV format
            const csvContent = "data:text/csv;charset=utf-8," +
                               mockupData.map(data => Object.values(data).join(",")).join("\n");
            
            // Create a download link
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "report.csv");
            
            // Append the link to the body and trigger the click event
            document.body.appendChild(link);
            link.click();

            // Remove the link from the body
            document.body.removeChild(link);
        }


        // Call the function to generate info blocks with default filters when the page loads
        window.onload = generateInfoBlocks;
        
        // Populate country filter options
        const countryFilter = document.getElementById("country");
        const uniqueCountries = [...new Set(mockupData.map(item => item.country))];
        uniqueCountries.sort(); // Sort the countries alphabetically
        uniqueCountries.forEach(country => {
            const option = document.createElement("option");
            option.value = country;
            option.textContent = country;
            countryFilter.appendChild(option);
        });
        
        document.getElementById("status").addEventListener("change", function() {
               // Get the selected option
               const selectedOption = this.options[this.selectedIndex];
               
               // Reset the color of all options to default
               Array.from(this.options).forEach(option => {
                   option.style.color = "inherit";
               });
               
               // Set color based on the selected option value
               switch (selectedOption.value) {
                   case "New":
                       selectedOption.style.color = "orange";
                       break;
                   case "In Progress":
                       selectedOption.style.color = "blue";
                       break;
                   case "Approved":
                       selectedOption.style.color = "green";
                       break;
                   case "Rejected":
                       selectedOption.style.color = "red";
                       break;
                   default:
                       break;
               }
           });

        
    </script>
</body>
</html>
